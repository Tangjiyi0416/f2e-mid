<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nijisanji Liver 選擇器</title>
    <link rel="stylesheet" href="https://necolas.github.io/normalize.css/">
    <link rel="stylesheet" href="css/shared_layout.css">
    <link rel="stylesheet" href="css/shared_element.css">
    <link rel="stylesheet" href="css/vtpicker.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
    <script src="js/shared_layout.js"></script>
    <script>
        let questions = [{
            q: "你希望V陪你的時間？",
            ans: [{
                display: "A.一個人的早晨",
                tag: "1A"
            }, {
                display: "B.午餐的閒暇",
                tag: "1B"
            }, {
                display: "C.孤零零的夜晚 ",
                tag: "1C"
            }, {
                display: "D.與他共度良宵",
                tag: "1D"
            }, ]
        }, {
            q: "你的日文水平？",
            ans: [{
                display: "A.拜託我超勇的(流暢到堪比日本人)",
                tag: "2A"
            }, {
                display: "B.能聽懂，但沒完全懂",
                tag: "2B"
            }, {
                display: "C.這個我就是遜啦(幾乎文盲)",
                tag: "2C"
            }, {
                display: "D.窩餔茲到",
                tag: "2D"
            }, ]
        }, {
            q: "你看V的目的？",
            ans: [{
                display: "A.有人能靜靜地陪伴(ASMR系)",
                tag: "3A"
            }, {
                display: "B.看搞笑紓解壓力",
                tag: "3B"
            }, {
                display: "C.專業的遊戲玩家",
                tag: "3C"
            }, {
                display: "D.聽人唱歌",
                tag: "3D"
            }, ]
        }, {
            q: "你喜歡的氛圍？",
            ans: [{
                display: "A.一個人專心地做事",
                tag: "4A"
            }, {
                display: "B.一小群人吵吵鬧鬧",
                tag: "4B"
            }, {
                display: "C.一堆人熱熱鬧鬧才是最棒的",
                tag: "4C"
            }, {
                display: "D.窩餔茲到",
                tag: "4D"
            }, ]
        }, ];
        let results = [{
            tags: ["1D", "2D", "3D", "4D"],
            livers: [21],
            desc: "既然你打出了那個神祕密碼<br>那麼我就推薦一個神祕的人吧<br>雖說她再也不會更新了<br>我曾經錯過了她，但我希望更多人能認識她<br>這樣她便不會真正的死去"
        }, {

            tags: ["3B", "4C"],
            livers: [10, 11, 12],
            desc: "你適合的是RRR三人<br>搞笑是他們的拿手好戲<br>而且三人人緣極佳時不時會參與大型活動<br>現在開始邁開成為DD的第一步吧"
        }, {
            tags: ["3C", "4B"],
            livers: [5, 8, 9],
            desc: "你適合的是多葛本社<br>充滿生活感的互動使得不容易冷場<br>個性相異的幾位所組成的家庭也令笑料不斷<br>現在開始邁開成為DD的第一步吧"
        }, {
            tags: ["3D", "4D"],
            livers: [1, 2, 3],
            desc: "你適合的是JK組<br>三人在社內皆為有實力的唱將<br>而且不論是單人還是多人的場合<br>皆能以大前輩的威壓在其中優游<br>從現在跟著他們尋找適合自己的氛圍吧"
        }, {
            tags: ["3D", "4B"],
            livers: [10, 16, 17],
            desc: "你適合的是綠仙、床、力一三人<br>三人在社內皆為有實力的唱將<br>但在單獨一人的時候有時較為出格或是平凡<br>與他人聯動時他們超群的反應能進一步增加趣味性<br>在享受氛圍的同時緩緩地開始接觸其他孩子吧"
        }, {
            tags: ["3D", "4C"],
            livers: [10, 16, 17],
            desc: "你適合的是綠仙、床、力一三人<br>三人在社內皆為有實力的唱將<br>但在單獨一人的時候有時較為出格或是平凡<br>與他人聯動時他們超群的反應能進一步增加趣味<br>在享受氛圍的同時緩緩地開始接觸其他孩子吧"
        }, {
            tags: ["3B", "4A"],
            livers: [14, 15, 16],
            desc: "你適合的是三笨蛋<br>他們非常有趣，但由於個性關係鮮少的合作<br>獨來獨往對他們而言更為放鬆<br>藉由他們去延伸認識更多liver吧"
        }, {
            tags: ["3A"],
            livers: [11, 13, 16],
            desc: "你適合的是尊媽、床和修女<br>你看V的目的是為了ASMR<br>這三人治癒向的投稿較適合大眾<br>在有閒情的時間不妨在彩虹社中尋找看看些過激的ASMR作品<br>種類繁多到絕不會令你失望"
        }, {
            tags: ["3C", "4A"],
            livers: [5, 6, 7],
            desc: "你適合的是gamers組<br>個性迥異的成員們每個都有不錯的水平<br>時而gamers們也會有連動<br>喜歡遊戲實況的你不能錯過"
        }, {
            tags: ["3C", "4C"],
            livers: [5, 6, 7],
            desc: "你適合的是gamers組<br>個性迥異的成員們每個都有不錯的水平<br>時而gamers們也會有連動<br>喜歡遊戲實況的你不能錯過"
        }, {
            tags: ["3B", "4D"],
            livers: [4, 8, 20],
            desc: "你適合的是刀也、加賀美、社築<br>他們這群幼稚的男人們<br>遊戲力在水平之上之餘保有的玩心<br>讓他們在不論甚麼場合都是如此的閃耀<br>當然彩虹這個魔窟還有更多這樣的人等著你去發現"
        }, {
            tags: ["3B", "4B"],
            livers: [10, 16, 17],
            desc: "你適合的是星川與她的受害者們<br>搞笑是他們的常態，尤其是星川玩起爸爸活後，<br>受苦的各位男性成員們<br>享受將快樂建立在他人痛苦上的愉悅吧<br>當然除了星川外還有更多的搞事仔等著你去挖掘"
        }, {
            tags: ["3D", "4A"],
            livers: [10, 16, 17],
            desc: "你適合的是刀也、葛葉、夢追三人，<br>他們不時會有歌回，但由於較為悶騷聯動的頻率不算太高<br>但也是彩虹社中的前段唱將<br>而彩虹中更是有著不少天籟卻不常歌唱的存在可以發掘"
        }, {
            tags: [],
            livers: [21],
            desc: "我不知道你想要啥<br>但我送你一個神祕的人<br>雖說她不會再更新了，但她永遠在我的心裡"
        }, {

        }];
        let curQuestion = 0;
        let finalTags = [];
        $(function() {
            $("#quiz-start-btn").click(start);
        });

        function start() {
            $(".display-box-portrait-container").addClass("hide");
            $(".display-box-question-container").removeClass("hide");
            nextQuestion();
        }

        function restart() {
            curQuestion = 0;
            finalTags.length = 0;
            $("#quiz").html(`<span class="quiz-box-desc">測試一下你感興趣的liver吧！</span>
            <button class="quiz-start-btn" id="quiz-start-btn">開始</button>`);
            $("#quiz-start-btn").click(start);
            $(".display-box-portrait-container-item-q").removeClass("hide");
        }

        function nextQuestion() {
            if (curQuestion >= questions.length) {
                //show result
                let result = results.find(e => e.tags.every(tag => finalTags.includes(tag)));
                $("#quiz").html(`<span class="quiz-box-desc result-desc">${result.desc}</span>
                   <button class="quiz-restart-btn" id="quiz-restart-btn">再來一次</button>`);
                $(".display-box-portrait-container").removeClass("hide");

                $(".display-box-question-container").addClass("hide");
                $("#portrait-left").html
                $("#quiz-restart-btn").click(restart);
                return;
            }
            let options = `<div class="quiz-box-option-box">`;
            questions[curQuestion].ans.forEach(element => {
                options += `<button class="quiz-box-option" id="${element.tag}">${element.display}</button>`;
            });

            $("#quiz").html(options + "</div>");
            questions[curQuestion].ans.forEach(element => {
                $(`#${element.tag}`).click(() => {
                    finalTags.push(element.tag)
                }).click(nextQuestion);
            });
            curQuestion++;
        }
    </script>
</head>

<body>
    <main>
        <div class="display-box">
            <div class="display-box-portrait-container">
                <span class="display-box-portrait-container-item-q">?</span>
                <div class="display-box-portrait-container-item hide" id="portrait-left">
                    <a href=""><img class="display-box-portrait-container-item-img" src="img/liverpicker/liverpicker_image21.png" alt=""></a>
                </div>
                <div class="display-box-portrait-container-item" id="portrait-middle">
                    <img class="display-box-portrait-container-item-img" src="img/liverpicker/liverpicker_image21.png" alt="">
                    <a class="display-box-portrait-container-item-link" href=""></a>
                </div>
                <div class="display-box-portrait-container-item hide" id="portrait-right">
                    <a href=""><img class="display-box-portrait-container-item-img" src="img/liverpicker/liverpicker_image21.png" alt=""></a>
                </div>
            </div>
            <div class="display-box-question-container hide">
                <img src="img/liverpicker/liverpicker_image22.png" alt="">
                <div class="display-box-question-container-question">
                    <span>adawdawdadawdwd</span>
                </div>
            </div>
        </div>
        <div class="quiz-box" id="quiz">
            <span class="quiz-box-desc">測試一下你感興趣的liver吧！</span>
            <button class="quiz-start-btn" id="quiz-start-btn">開始</button>
        </div>
    </main>
</body>

</html>